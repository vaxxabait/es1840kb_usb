(export (version D)
  (design
    (source /home/vaxxa/projects/es1840kb_usb/master/pcb/es1840kb_usb.sch)
    (date "Ср 19 июл 2017 08:32:58")
    (tool "eeschema (2013-may-18)-stable"))
  (components
    (comp (ref DD1)
      (value ATMEGA32U2)
      (footprint TQFP32)
      (libsource (lib atmega32u2) (part ATMEGA32U2))
      (sheetpath (names /) (tstamps /))
      (tstamp 593759F0))
    (comp (ref X2)
      (value ISP)
      (libsource (lib avrisp) (part AVR_ISP6))
      (sheetpath (names /) (tstamps /))
      (tstamp 593761A8))
    (comp (ref XP1)
      (value Keyboard)
      (libsource (lib es1840kb) (part ES1840_KB))
      (sheetpath (names /) (tstamps /))
      (tstamp 593886CF))
    (comp (ref X3)
      (value OLED)
      (libsource (lib oled) (part I2C_SPI_OLED))
      (sheetpath (names /) (tstamps /))
      (tstamp 594D34CB))
    (comp (ref ZQ1)
      (value "16 MHz")
      (libsource (lib passive) (part XTAL))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E7A8C))
    (comp (ref C6)
      (value "1 µF")
      (libsource (lib passive) (part CPOL))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E7AAA))
    (comp (ref R2)
      (value "22 Ω")
      (libsource (lib passive) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E7F90))
    (comp (ref R1)
      (value "22 Ω")
      (libsource (lib passive) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E7F9F))
    (comp (ref C3)
      (value "18 pF")
      (libsource (lib passive) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E81FD))
    (comp (ref C5)
      (value "18 pF")
      (libsource (lib passive) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E820C))
    (comp (ref X1)
      (value USB)
      (libsource (lib usb) (part USB_PCB))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E8526))
    (comp (ref R3)
      (value "220 Ω")
      (libsource (lib passive) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E86DF))
    (comp (ref C1)
      (value "10 µF")
      (libsource (lib passive) (part CPOL))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E8C4B))
    (comp (ref C2)
      (value "1 µF")
      (libsource (lib passive) (part CPOL))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E8C58))
    (comp (ref C4)
      (value "100 nF")
      (libsource (lib passive) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 594E8C71))
    (comp (ref HL1)
      (value LED)
      (libsource (lib passive) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 596EA0C5))
    (comp (ref R5)
      (value "220 Ω")
      (libsource (lib passive) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 596EA3A4))
    (comp (ref HL3)
      (value LED)
      (libsource (lib passive) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 596EA3B0))
    (comp (ref R4)
      (value "220 Ω")
      (libsource (lib passive) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 596EFD85))
    (comp (ref HL2)
      (value LED)
      (libsource (lib passive) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 596EFD91)))
  (libparts
    (libpart (lib atmega32u2) (part ATMega32U2)
      (description "AVR-Mega MCU with HW USB and 32Kbyte flash")
      (footprints
        (fp tqfp32))
      (fields
        (field (name Reference) DD)
        (field (name Value) ATMega32U2)
        (field (name Footprint) TQFP32)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name XTAL1) (type input))
        (pin (num 2) (name XTAL2/PC0) (type BiDi))
        (pin (num 3) (name GND) (type power_in))
        (pin (num 4) (name VCC) (type power_in))
        (pin (num 5) (name PC2/PCINT11/AIN2) (type BiDi))
        (pin (num 6) (name INT0/OC.0B/PD0) (type BiDi))
        (pin (num 7) (name AIN0/INT1/PD1) (type BiDi))
        (pin (num 8) (name INT2/AIN1/RXD1/PD2) (type BiDi))
        (pin (num 9) (name INT3/TXD1/PD3) (type BiDi))
        (pin (num 10) (name AIN3/INT5/PD4) (type BiDi))
        (pin (num 11) (name PCINT12/AIN4/XCK/PD5) (type BiDi))
        (pin (num 12) (name INT6/AIN5/~RTS~/PD6) (type BiDi))
        (pin (num 13) (name INT7/T0/AIN6/~HWB~/PD7) (type BiDi))
        (pin (num 14) (name ~SS~/PCINT0/PB0) (type BiDi))
        (pin (num 15) (name SCLK/PCINT1/PB1) (type BiDi))
        (pin (num 16) (name PDI/MOSI/PCINT2/PB2) (type BiDi))
        (pin (num 17) (name PDO/MISO/PCINT3/PB3) (type BiDi))
        (pin (num 18) (name T1/PCINT4/PB4) (type BiDi))
        (pin (num 19) (name PCINT5/PB5) (type BiDi))
        (pin (num 20) (name PCINT6/PB6) (type BiDi))
        (pin (num 21) (name PCINT7/OC.0A/OC.1C/PB7) (type BiDi))
        (pin (num 22) (name PC7/INT4/ICP1/CLKO) (type BiDi))
        (pin (num 23) (name PC6/OC.1A/PCINT8) (type BiDi))
        (pin (num 24) (name ~RESET~/PC1/dW) (type BiDi))
        (pin (num 25) (name PC5/PCINT9/OC.1B) (type BiDi))
        (pin (num 26) (name PC4/PCINT10) (type BiDi))
        (pin (num 27) (name UCAP) (type passive))
        (pin (num 28) (name UGND) (type power_in))
        (pin (num 29) (name D+) (type BiDi))
        (pin (num 30) (name D-) (type BiDi))
        (pin (num 31) (name UVCC) (type power_in))
        (pin (num 32) (name AVCC) (type power_in))))
    (libpart (lib es1840kb) (part ES1840_KB)
      (description "ES1840 keyboard controller socket")
      (footprints
        (fp es1840_kb))
      (fields
        (field (name Reference) XP)
        (field (name Value) ES1840_KB)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 5) (name LED_EN) (type input))
        (pin (num 12) (name COL_0) (type input))
        (pin (num 13) (name COL_1) (type input))
        (pin (num 14) (name COL_2) (type input))
        (pin (num 15) (name COL_3) (type input))
        (pin (num 16) (name ROW_0) (type input))
        (pin (num 17) (name ROW_1) (type input))
        (pin (num 18) (name ROW_2) (type input))
        (pin (num 20) (name GND) (type power_in))
        (pin (num 21) (name COL_EN) (type input))
        (pin (num 32) (name LED_RUS) (type input))
        (pin (num 33) (name LED_LAT) (type input))
        (pin (num 34) (name LED_NUM) (type input))
        (pin (num 39) (name KEY_IN) (type output))
        (pin (num 40) (name VCC5) (type power_in))))
    (libpart (lib avrisp) (part AVR_ISP6)
      (description "USB through-hole 4x1 connector")
      (footprints
        (fp pin_array_3x2))
      (fields
        (field (name Reference) X)
        (field (name Value) AVR_ISP6)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name MISO) (type input))
        (pin (num 2) (name VCC5) (type power_in))
        (pin (num 3) (name SCLK) (type output))
        (pin (num 4) (name MOSI) (type output))
        (pin (num 5) (name ~RST) (type output))
        (pin (num 6) (name GND) (type power_in))))
    (libpart (lib usb) (part USB_PCB)
      (description "USB through-hole 4x1 connector on PCB")
      (footprints
        (fp pin_array_4x1))
      (fields
        (field (name Reference) X)
        (field (name Value) USB_PCB)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name VBUS) (type power_out))
        (pin (num 2) (name D-) (type BiDi))
        (pin (num 3) (name D+) (type BiDi))
        (pin (num 4) (name GND) (type power_out))))
    (libpart (lib passive) (part C)
      (description "Generic capacitor")
      (footprints
        (fp SM*))
      (fields
        (field (name Reference) C)
        (field (name Value) C)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib oled) (part I2C_SPI_OLED)
      (description "2.42 inch monochrome OLED display with I2C and SPI interface")
      (footprints
        (fp i2c_spi_oled))
      (fields
        (field (name Reference) X)
        (field (name Value) I2C_SPI_OLED)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name GND) (type power_in))
        (pin (num 2) (name VCC5) (type power_in))
        (pin (num 3) (name SCL/SCLK) (type BiDi))
        (pin (num 4) (name SDA/MOSI) (type input))
        (pin (num 5) (name ~RES) (type input))
        (pin (num 6) (name D/~C) (type input))
        (pin (num 7) (name ~CS) (type input))))
    (libpart (lib passive) (part CPOL)
      (description "Polarized capacitor")
      (footprints
        (fp SM*))
      (fields
        (field (name Reference) C)
        (field (name Value) CPOL)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib passive) (part LED)
      (description "Generic LED")
      (footprints
        (fp SM*))
      (fields
        (field (name Reference) HL)
        (field (name Value) LED)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib passive) (part R)
      (description "Generic resistor")
      (footprints
        (fp SM*))
      (fields
        (field (name Reference) R)
        (field (name Value) R)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib passive) (part XTAL)
      (description "Generic crystal oscillator")
      (fields
        (field (name Reference) ZQ)
        (field (name Value) XTAL)
        (field (name Footprint) ~)
        (field (name Datasheet) ~))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive)))))
  (libraries
    (library (logical es1840kb)
      (uri /home/vaxxa/projects/es1840kb_usb/master/components/es1840kb/kicad/es1840kb.lib))
    (library (logical avrisp)
      (uri /home/vaxxa/projects/es1840kb_usb/master/components/avr/kicad/avrisp.lib))
    (library (logical atmega32u2)
      (uri /home/vaxxa/projects/es1840kb_usb/master/components/avr/kicad/atmega32u2.lib))
    (library (logical usb)
      (uri /home/vaxxa/projects/es1840kb_usb/master/components/usb/kicad/usb.lib))
    (library (logical passive)
      (uri /home/vaxxa/projects/es1840kb_usb/master/components/passive/kicad/passive.lib))
    (library (logical oled)
      (uri /home/vaxxa/projects/es1840kb_usb/master/components/oled/kicad/oled.lib)))
  (nets
    (net (code 1) (name /XTAL_P)
      (node (ref C3) (pin 2))
      (node (ref ZQ1) (pin 1))
      (node (ref DD1) (pin 1)))
    (net (code 2) (name "")
      (node (ref X1) (pin 3))
      (node (ref R1) (pin 1)))
    (net (code 3) (name DGND)
      (node (ref C1) (pin 2))
      (node (ref X1) (pin 4))
      (node (ref C4) (pin 1))
      (node (ref C5) (pin 1))
      (node (ref DD1) (pin 3))
      (node (ref DD1) (pin 28))
      (node (ref R4) (pin 2))
      (node (ref C2) (pin 2))
      (node (ref X2) (pin 6))
      (node (ref X3) (pin 1))
      (node (ref XP1) (pin 20))
      (node (ref C3) (pin 1))
      (node (ref C6) (pin 2)))
    (net (code 4) (name /LED_NUM)
      (node (ref XP1) (pin 34))
      (node (ref DD1) (pin 5)))
    (net (code 5) (name /KB_DAT)
      (node (ref XP1) (pin 39))
      (node (ref DD1) (pin 20)))
    (net (code 6) (name /OLED_RSTn)
      (node (ref X3) (pin 5))
      (node (ref DD1) (pin 18)))
    (net (code 7) (name /OLED_CSn)
      (node (ref X3) (pin 7))
      (node (ref DD1) (pin 14)))
    (net (code 8) (name /OLED_DC)
      (node (ref DD1) (pin 19))
      (node (ref X3) (pin 6)))
    (net (code 9) (name /LED_EN)
      (node (ref DD1) (pin 23))
      (node (ref XP1) (pin 5)))
    (net (code 10) (name /LED_RUS)
      (node (ref XP1) (pin 32))
      (node (ref DD1) (pin 25)))
    (net (code 11) (name /LED_LAT)
      (node (ref DD1) (pin 26))
      (node (ref XP1) (pin 33)))
    (net (code 12) (name VCC5)
      (node (ref X3) (pin 2))
      (node (ref XP1) (pin 40))
      (node (ref X2) (pin 2))
      (node (ref DD1) (pin 4))
      (node (ref DD1) (pin 31))
      (node (ref DD1) (pin 32))
      (node (ref HL2) (pin 1))
      (node (ref X1) (pin 1))
      (node (ref HL1) (pin 1))
      (node (ref C4) (pin 2))
      (node (ref HL3) (pin 1))
      (node (ref C2) (pin 1))
      (node (ref C1) (pin 1)))
    (net (code 13) (name "")
      (node (ref HL1) (pin 2))
      (node (ref R3) (pin 1)))
    (net (code 14) (name "")
      (node (ref R5) (pin 1))
      (node (ref HL3) (pin 2)))
    (net (code 15) (name /USB_CAP)
      (node (ref DD1) (pin 27))
      (node (ref C6) (pin 1)))
    (net (code 16) (name /LED_PWR)
      (node (ref HL2) (pin 2))
      (node (ref R4) (pin 1)))
    (net (code 17) (name /LED_SCRL)
      (node (ref R5) (pin 2))
      (node (ref DD1) (pin 21)))
    (net (code 18) (name /USB_P)
      (node (ref R1) (pin 2))
      (node (ref DD1) (pin 29)))
    (net (code 19) (name /USB_N)
      (node (ref R2) (pin 2))
      (node (ref DD1) (pin 30)))
    (net (code 20) (name /LED_CAPS)
      (node (ref DD1) (pin 22))
      (node (ref R3) (pin 2)))
    (net (code 21) (name "")
      (node (ref X1) (pin 2))
      (node (ref R2) (pin 1)))
    (net (code 22) (name /SPI_MISO)
      (node (ref X2) (pin 1))
      (node (ref DD1) (pin 17)))
    (net (code 23) (name /KB_COL3)
      (node (ref XP1) (pin 15))
      (node (ref DD1) (pin 10)))
    (net (code 24) (name /KB_ROW1)
      (node (ref XP1) (pin 17))
      (node (ref DD1) (pin 12)))
    (net (code 25) (name /KB_ROW0)
      (node (ref XP1) (pin 16))
      (node (ref DD1) (pin 11)))
    (net (code 26) (name /KB_ROW2)
      (node (ref XP1) (pin 18))
      (node (ref DD1) (pin 13)))
    (net (code 27) (name /KB_COL1)
      (node (ref XP1) (pin 13))
      (node (ref DD1) (pin 8)))
    (net (code 28) (name /KB_COL0)
      (node (ref DD1) (pin 7))
      (node (ref XP1) (pin 12)))
    (net (code 29) (name /KB_COL_EN)
      (node (ref DD1) (pin 6))
      (node (ref XP1) (pin 21)))
    (net (code 30) (name /XTAL_N)
      (node (ref C5) (pin 2))
      (node (ref DD1) (pin 2))
      (node (ref ZQ1) (pin 2)))
    (net (code 31) (name /KB_COL2)
      (node (ref XP1) (pin 14))
      (node (ref DD1) (pin 9)))
    (net (code 32) (name /SPI_CLK)
      (node (ref X2) (pin 3))
      (node (ref DD1) (pin 15))
      (node (ref X3) (pin 3)))
    (net (code 33) (name /DBG_RSTn)
      (node (ref DD1) (pin 24))
      (node (ref X2) (pin 5)))
    (net (code 34) (name /SPI_MOSI)
      (node (ref X3) (pin 4))
      (node (ref DD1) (pin 16))
      (node (ref X2) (pin 4)))))